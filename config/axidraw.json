{
  "name": "AxiDraw Controller",
  "poll_rate": 30,
  "deadzone": 0.15,
  "http": {
    "base_url": "http://kittenblob.local:9700",
    "headers": {
      "Content-Type": "application/json"
    },
    "timeout_ms": 5000
  },
  "buttons": {
    "cross": {
      "trigger": "press",
      "http": {
        "method": "POST",
        "path": "/pen/down"
      },
      "rumble": {
        "left": 50,
        "right": 50,
        "duration_ms": 100
      },
      "led": { "r": 0, "g": 255, "b": 0 }
    },
    "circle": {
      "trigger": "press",
      "http": {
        "method": "POST",
        "path": "/pen/up"
      },
      "led": { "r": 0, "g": 128, "b": 255 }
    },
    "triangle": {
      "trigger": "press",
      "http": {
        "method": "POST",
        "path": "/home"
      },
      "rumble": {
        "left": 100,
        "right": 100,
        "duration_ms": 200
      }
    },
    "square": {
      "trigger": "press",
      "http": {
        "method": "POST",
        "path": "/pen/toggle"
      }
    },
    "dpad_up": {
      "trigger": "hold",
      "http": {
        "method": "POST",
        "path": "/move",
        "body": "{\"dx\": 0, \"dy\": -5, \"units\": \"mm\"}"
      },
      "debounce_ms": 100
    },
    "dpad_down": {
      "trigger": "hold",
      "http": {
        "method": "POST",
        "path": "/move",
        "body": "{\"dx\": 0, \"dy\": 5, \"units\": \"mm\"}"
      },
      "debounce_ms": 100
    },
    "dpad_left": {
      "trigger": "hold",
      "http": {
        "method": "POST",
        "path": "/move",
        "body": "{\"dx\": -5, \"dy\": 0, \"units\": \"mm\"}"
      },
      "debounce_ms": 100
    },
    "dpad_right": {
      "trigger": "hold",
      "http": {
        "method": "POST",
        "path": "/move",
        "body": "{\"dx\": 5, \"dy\": 0, \"units\": \"mm\"}"
      },
      "debounce_ms": 100
    },
    "l1": {
      "trigger": "press",
      "http": {
        "method": "POST",
        "path": "/speed",
        "body": "{\"penDown\": 1.0, \"penUp\": 5.0}"
      }
    },
    "r1": {
      "trigger": "press",
      "http": {
        "method": "POST",
        "path": "/speed",
        "body": "{\"penDown\": 5.0, \"penUp\": 10.0}"
      }
    },
    "options": {
      "trigger": "press",
      "http": {
        "method": "POST",
        "path": "/stop"
      },
      "rumble": {
        "left": 255,
        "right": 255,
        "duration_ms": 300
      },
      "led": { "r": 255, "g": 0, "b": 0 }
    }
  },
  "analog": {
    "left_stick": {
      "on_move": {
        "trigger": "change",
        "http": {
          "method": "POST",
          "path": "/move",
          "body": "{\"dx\": {{left_stick_x}}, \"dy\": {{left_stick_y}}, \"units\": \"mm\"}"
        }
      },
      "threshold": 0.3,
      "rate_limit_ms": 50
    },
    "r2_trigger": {
      "on_press": {
        "trigger": "press",
        "http": {
          "method": "POST",
          "path": "/pen/down"
        }
      },
      "threshold": 0.5
    }
  },
  "led": {
    "connected_color": { "r": 0, "g": 128, "b": 255 },
    "error_color": { "r": 255, "g": 0, "b": 0 }
  }
}
