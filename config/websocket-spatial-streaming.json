{
  "name": "WebSocket Spatial Stream (Integrated Motion)",
  "poll_rate": 16,
  "deadzone": 0.10,
  "websocket": {
    "url": "ws://kittenblob.local:9700/spatial",
    "reconnect": true,
    "reconnect_delay_ms": 1000,
    "max_reconnect_attempts": 0,
    "state_format": "{\"type\":\"spatial\",\"ts\":{{timestamp}},\"position\":{\"x\":{{pos_x}},\"y\":{{pos_y}},\"z\":{{pos_z}}},\"velocity\":{\"x\":{{vel_x}},\"y\":{{vel_y}},\"z\":{{vel_z}}},\"orientation\":{\"w\":{{quat_w}},\"x\":{{quat_x}},\"y\":{{quat_y}},\"z\":{{quat_z}}},\"angular_velocity\":{\"x\":{{angvel_x}},\"y\":{{angvel_y}},\"z\":{{angvel_z}}},\"linear_accel\":{\"x\":{{linacc_x}},\"y\":{{linacc_y}},\"z\":{{linacc_z}}},\"buttons\":{{{buttons_json}}}}",
    "state_interval_ms": 16,
    "binary": false
  },
  "integration": {
    "velocity_curve": "cubic",
    "max_linear_speed": 100.0,
    "max_angular_speed": 150.0,
    "linear_damping": 0.70,
    "angular_damping": 0.60,
    "smoothing_alpha": 0.02,
    "position_units": "mm",
    "orientation_filter": {
      "type": "complementary",
      "gyro_weight": 0.96
    }
  },
  "mapping": {
    "left_stick": {
      "mode": "planar_velocity",
      "axis": [
        "x",
        "y"
      ]
    },
    "right_stick": {
      "mode": "angular_velocity",
      "axis": [
        "yaw",
        "pitch"
      ]
    },
    "gyro": {
      "mode": "angular_velocity"
    },
    "accelerometer": {
      "mode": "gravity_correction"
    },
    "r2_trigger": {
      "mode": "z_velocity"
    }
  },
  "buttons": {
    "cross": {
      "trigger": "press",
      "websocket": {
        "message": "{\"type\":\"event\",\"action\":\"pen_down\"}"
      }
    },
    "circle": {
      "trigger": "press",
      "websocket": {
        "message": "{\"type\":\"event\",\"action\":\"pen_up\"}"
      }
    },
    "options": {
      "trigger": "press",
      "websocket": {
        "message": "{\"type\":\"event\",\"action\":\"stop\"}"
      }
    }
  },
  "led": {
    "connected_color": {
      "r": 0,
      "g": 255,
      "b": 128
    },
    "error_color": {
      "r": 255,
      "g": 64,
      "b": 0
    }
  }
}
